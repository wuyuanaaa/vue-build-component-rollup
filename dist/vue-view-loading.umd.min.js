!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).ViewLoading=e()}(this,(function(){"use strict";var n={name:"YcbViewLoading",props:{load:{type:Function,required:!0,validator:n=>"[object Function]"!==!Object.prototype.toString.call(n)||(console.error("ViewStatus props load Must be Function"),!1)}},data:()=>({status:"loading"}),mounted(){this.handleLoad()},methods:{handleLoad(){if(!this.load||"function"!=typeof this.load)return;const n=this.load();n&&n.then&&n.then((()=>{this.status="success"})).catch((n=>{console.log(`YcbViewLoading err ${n}`),this.status="fail"}))},reload(){this.status="loading",this.handleLoad()}}};var e=function(n,e,i,r,t,a,o,s,l,d){"boolean"!=typeof o&&(l=s,s=o,o=!1);var c,A="function"==typeof i?i.options:i;if(n&&n.render&&(A.render=n.render,A.staticRenderFns=n.staticRenderFns,A._compiled=!0,t&&(A.functional=!0)),r&&(A._scopeId=r),a?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,l(n)),n&&n._registeredComponents&&n._registeredComponents.add(a)},A._ssrRegister=c):e&&(c=o?function(){e.call(this,d(this.$root.$options.shadowRoot))}:function(n){e.call(this,s(n))}),c)if(A.functional){var p=A.render;A.render=function(n,e){return c.call(e),p(n,e)}}else{var g=A.beforeCreate;A.beforeCreate=g?[].concat(g,c):[c]}return i},i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var r=document.head||document.getElementsByTagName("head")[0],t={};var a=function(n){return function(n,e){return function(n,e){var a=i?e.media||"default":n,o=t[a]||(t[a]={ids:new Set,styles:[]});if(!o.ids.has(n)){o.ids.add(n);var s=e.source;if(e.map&&(s+="\n/*# sourceURL="+e.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",e.media&&o.element.setAttribute("media",e.media),r.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(s),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{var l=o.ids.size-1,d=document.createTextNode(s),c=o.element.childNodes;c[l]&&o.element.removeChild(c[l]),c.length?o.element.insertBefore(d,c[l]):o.element.appendChild(d)}}}(n,e)}};const o=n;var s=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"ycb-view-loading"},["loading"===n.status?[n.$scopedSlots.loading?n._t("loading"):i("div",{staticClass:"ycb-view-loading__loading"},[i("span",{staticClass:"ycb-view-loading-spinner"},[i("svg",{staticClass:"ycb-view-loading-circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])]),n._v(" "),i("span",{staticClass:"ycb-view-loading-text"},[n._v("\n        加载中...\n      ")])])]:n._e(),n._v(" "),"success"===n.status?[n._t("default"),n._v(" "),i("div",{staticClass:"_empty"})]:n._e(),n._v(" "),"fail"===n.status?[n.$scopedSlots.fail?n._t("fail"):i("div",{staticClass:"ycb-view-loading__fail",on:{click:n.reload}},[n._v("\n      加载失败，点击重试。\n    ")])]:n._e()],2)};s._withStripped=!0;const l=e({render:s,staticRenderFns:[]},(function(n){n&&n("data-v-4f82fe17_0",{source:".ycb-view-loading .ycb-view-loading__loading, .ycb-view-loading .ycb-view-loading__fail {\n  position: relative;\n  margin-top: 10px;\n  font-size: 12px;\n  line-height: 20px;\n  text-align: center;\n  z-index: 1;\n}\n.ycb-view-loading .ycb-view-loading__loading {\n  color: #c8c9cc;\n}\n.ycb-view-loading .ycb-view-loading-spinner {\n  position: relative;\n  display: inline-block;\n  width: 16px;\n  max-width: 100%;\n  height: 16px;\n  max-height: 100%;\n  vertical-align: middle;\n  animation: rotate 2s linear infinite;\n}\n.ycb-view-loading .ycb-view-loading-spinner .ycb-view-loading-circular {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n.ycb-view-loading .ycb-view-loading-spinner .ycb-view-loading-circular circle {\n  animation: circular 1.5s ease-in-out infinite;\n  stroke: currentColor;\n  stroke-width: 3;\n  stroke-linecap: round;\n}\n.ycb-view-loading .ycb-view-loading-text {\n  display: inline-block;\n  margin-left: 8px;\n  vertical-align: middle;\n  color: #969799;\n}\n@keyframes rotate {\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n}\n@keyframes circular {\n0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n}\n50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -40;\n}\n100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -120;\n}\n}\n\n/*# sourceMappingURL=index.vue.map */",map:{version:3,sources:["D:\\@ycb\\vue-view-loading\\src\\ViewLoading\\index.vue","index.vue"],names:[],mappings:"AAmFA;EACA,kBAAA;EACA,gBAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;AClFA;ADqFA;EACA,cAAA;ACnFA;ADsFA;EACA,kBAAA;EACA,qBAAA;EACA,WAAA;EACA,eAAA;EACA,YAAA;EACA,gBAAA;EACA,sBAAA;EACA,oCAAA;ACpFA;ADqFA;EACA,cAAA;EACA,WAAA;EACA,YAAA;ACnFA;ADqFA;EACA,6CAAA;EACA,oBAAA;EACA,eAAA;EACA,qBAAA;ACnFA;ADwFA;EACA,qBAAA;EACA,gBAAA;EACA,sBAAA;EACA,cAAA;ACtFA;ADyFA;AACA;IACA,uBAAA;ACvFE;AD0FF;IACA,yBAAA;ACxFE;AACF;AD0FA;AACA;IACA,wBAAA;IACA,oBAAA;ACxFE;AD2FF;IACA,yBAAA;IACA,sBAAA;ACzFE;AD4FF;IACA,yBAAA;IACA,uBAAA;AC1FE;AACF;;AAEA,oCAAoC",file:"index.vue",sourcesContent:['<template>\r\n  <div class="ycb-view-loading">\r\n    <template v-if="status===\'loading\'">\r\n      <slot v-if="$scopedSlots.loading" name="loading" />\r\n      <div v-else class="ycb-view-loading__loading">\r\n        <span class="ycb-view-loading-spinner">\r\n          <svg class="ycb-view-loading-circular" viewBox="25 25 50 50">\r\n            <circle cx="50" cy="50" r="20" fill="none" />\r\n          </svg>\r\n        </span>\r\n        <span class="ycb-view-loading-text">\r\n          加载中...\r\n        </span>\r\n      </div>\r\n    </template>\r\n\r\n    <template v-if="status===\'success\'">\r\n      <slot />\r\n      <div class="_empty" />\r\n    </template>\r\n\r\n    <template v-if="status===\'fail\'">\r\n      <slot v-if="$scopedSlots.fail" name="fail" />\r\n      <div v-else class="ycb-view-loading__fail" @click="reload">\r\n        加载失败，点击重试。\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \'YcbViewLoading\',\r\n  props: {\r\n    load: {\r\n      type: Function,\r\n      required: true,\r\n      validator: val => {\r\n        if (!Object.prototype.toString.call(val) === \'[object Function]\') {\r\n          console.error(\'ViewStatus props load Must be Function\')\r\n          return false\r\n        }\r\n        return true\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      status: \'loading\'\r\n    }\r\n  },\r\n  mounted() {\r\n    this.handleLoad()\r\n  },\r\n  methods: {\r\n    handleLoad() {\r\n      if (!this.load || typeof this.load !== \'function\') {\r\n        return\r\n      }\r\n\r\n      const p = this.load()\r\n\r\n      if (p && p.then) {\r\n        p.then(() => {\r\n          this.status = \'success\'\r\n        })\r\n          .catch(e => {\r\n            console.log(`YcbViewLoading err ${e}`)\r\n            this.status = \'fail\'\r\n          })\r\n      }\r\n    },\r\n    reload() {\r\n      this.status = \'loading\'\r\n      this.handleLoad()\r\n    }\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style lang="scss">\r\n.ycb-view-loading {\r\n  .ycb-view-loading__loading, .ycb-view-loading__fail {\r\n    position: relative;\r\n    margin-top: 10px;\r\n    font-size: 12px;\r\n    line-height: 20px;\r\n    text-align: center;\r\n    z-index: 1;\r\n  }\r\n\r\n  .ycb-view-loading__loading {\r\n    color: #c8c9cc;\r\n  }\r\n\r\n  .ycb-view-loading-spinner {\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 16px;\r\n    max-width: 100%;\r\n    height: 16px;\r\n    max-height: 100%;\r\n    vertical-align: middle;\r\n    animation: rotate 2s linear infinite;\r\n    .ycb-view-loading-circular {\r\n      display: block;\r\n      width: 100%;\r\n      height: 100%;\r\n\r\n      circle {\r\n        animation: circular 1.5s ease-in-out infinite;\r\n        stroke: currentColor;\r\n        stroke-width: 3;\r\n        stroke-linecap: round;\r\n      }\r\n    }\r\n  }\r\n\r\n  .ycb-view-loading-text {\r\n    display: inline-block;\r\n    margin-left: 8px;\r\n    vertical-align: middle;\r\n    color: #969799;\r\n  }\r\n\r\n  @keyframes rotate {\r\n    from {\r\n      transform: rotate(0deg);\r\n    }\r\n\r\n    to {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  @keyframes circular {\r\n    0% {\r\n      stroke-dasharray: 1, 200;\r\n      stroke-dashoffset: 0;\r\n    }\r\n\r\n    50% {\r\n      stroke-dasharray: 90, 150;\r\n      stroke-dashoffset: -40;\r\n    }\r\n\r\n    100% {\r\n      stroke-dasharray: 90, 150;\r\n      stroke-dashoffset: -120;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n',".ycb-view-loading .ycb-view-loading__loading, .ycb-view-loading .ycb-view-loading__fail {\n  position: relative;\n  margin-top: 10px;\n  font-size: 12px;\n  line-height: 20px;\n  text-align: center;\n  z-index: 1;\n}\n.ycb-view-loading .ycb-view-loading__loading {\n  color: #c8c9cc;\n}\n.ycb-view-loading .ycb-view-loading-spinner {\n  position: relative;\n  display: inline-block;\n  width: 16px;\n  max-width: 100%;\n  height: 16px;\n  max-height: 100%;\n  vertical-align: middle;\n  animation: rotate 2s linear infinite;\n}\n.ycb-view-loading .ycb-view-loading-spinner .ycb-view-loading-circular {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n.ycb-view-loading .ycb-view-loading-spinner .ycb-view-loading-circular circle {\n  animation: circular 1.5s ease-in-out infinite;\n  stroke: currentColor;\n  stroke-width: 3;\n  stroke-linecap: round;\n}\n.ycb-view-loading .ycb-view-loading-text {\n  display: inline-block;\n  margin-left: 8px;\n  vertical-align: middle;\n  color: #969799;\n}\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes circular {\n  0% {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -40;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -120;\n  }\n}\n\n/*# sourceMappingURL=index.vue.map */"]},media:void 0})}),o,undefined,false,undefined,!1,a,void 0,void 0);return l.install=function(n){n.component(l.name,l)},l}));
